<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu EVARS - Respect & Estime de Soi</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800&family=Fredoka:wght@400;500;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(180deg, #f9f5f0 0%, #e8f4f2 100%);
            background-attachment: fixed;
            min-height: 100vh;
            color: #2d2520;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header */
        header {
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            padding: 20px 0;
            margin-bottom: 40px;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #f87171 0%, #fbbf24 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 4px 10px rgba(248, 113, 113, 0.3);
        }
        
        .logo-text h1 {
            font-family: 'Fredoka', sans-serif;
            font-size: 28px;
            background: linear-gradient(135deg, #f87171, #fbbf24);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .logo-text p {
            font-size: 12px;
            color: #94a3b8;
        }
        
        .badge {
            background: rgba(251, 191, 36, 0.2);
            color: #d97706;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }
        
        /* Welcome Screen */
        .welcome-screen {
            text-align: center;
            padding: 60px 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .heart-icon {
            width: 80px;
            height: 80px;
            background: rgba(248, 113, 113, 0.1);
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            margin-bottom: 30px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 20px rgba(248, 113, 113, 0.3); }
            50% { box-shadow: 0 0 40px rgba(248, 113, 113, 0.5); }
        }
        
        .welcome-screen h2 {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 20px;
            color: #2d2520;
        }
        
        .welcome-screen p {
            font-size: 18px;
            color: #64748b;
            line-height: 1.8;
            margin-bottom: 40px;
        }
        
        /* Player Selection */
        .player-selection {
            max-width: 500px;
            margin: 0 auto 40px;
        }
        
        .player-selection label {
            display: block;
            font-weight: 600;
            margin-bottom: 15px;
            color: #2d2520;
        }
        
        .player-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
        }
        
        .btn {
            flex: 1;
            padding: 14px 24px;
            font-size: 16px;
            font-weight: 600;
            border: 2px solid #f87171;
            background: white;
            color: #f87171;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Nunito', sans-serif;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(248, 113, 113, 0.3);
        }
        
        .btn.active, .btn-primary {
            background: #f87171;
            color: white;
        }
        
        .btn-primary {
            width: 100%;
            padding: 18px;
            font-size: 18px;
            border: none;
            box-shadow: 0 4px 20px rgba(248, 113, 113, 0.3);
        }
        
        .btn-primary:hover {
            background: #ef4444;
            box-shadow: 0 6px 30px rgba(248, 113, 113, 0.4);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .btn-secondary {
            background: #5eead4;
            color: white;
            border: 2px solid #5eead4;
        }
        
        .btn-outline {
            background: white;
            color: #2d2520;
            border: 2px solid #cbd5e1;
        }
        
        /* Categories */
        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 40px;
        }
        
        .category-badge {
            background: rgba(94, 234, 212, 0.2);
            color: #0f766e;
            padding: 12px 20px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 14px;
            text-align: center;
        }
        
        /* Stats Panel */
        .stats-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: white;
            padding: 24px;
            border-radius: 16px;
            border: 2px solid #f1f5f9;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            gap: 20px;
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        .stat-icon.players { background: rgba(94, 234, 212, 0.2); }
        .stat-icon.cards { background: rgba(251, 191, 36, 0.2); }
        .stat-icon.progress { background: rgba(248, 113, 113, 0.2); }
        
        .stat-content h3 {
            font-size: 14px;
            color: #64748b;
            font-weight: 500;
            margin-bottom: 5px;
        }
        
        .stat-content .number {
            font-size: 36px;
            font-weight: 800;
            color: #2d2520;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #f1f5f9;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background: #f87171;
            transition: width 0.5s ease;
        }
        
        /* Card */
        .card-container {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .card-wrapper {
            perspective: 1000px;
            max-width: 600px;
            margin: 0 auto 30px;
        }
        
        .card {
            position: relative;
            width: 100%;
            aspect-ratio: 3/4;
            transition: transform 0.7s;
            transform-style: preserve-3d;
        }
        
        .card.flipped {
            transform: rotateY(180deg);
        }
        
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }
        
        .card-front {
            background: linear-gradient(135deg, #f87171, #5eead4, #fbbf24);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 20px;
            overflow: hidden;
            position: relative;
        }
        
        .card-front::before {
            content: '';
            position: absolute;
            width: 300px;
            height: 300px;
            background: white;
            opacity: 0.1;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .card-front-icon {
            width: 100px;
            height: 100px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            position: relative;
            z-index: 1;
        }
        
        .card-front h2 {
            font-family: 'Fredoka', sans-serif;
            font-size: 48px;
            color: white;
            position: relative;
            z-index: 1;
        }
        
        .card-front p {
            font-size: 20px;
            color: rgba(255, 255, 255, 0.9);
            position: relative;
            z-index: 1;
        }
        
        .card-back {
            background: white;
            transform: rotateY(180deg);
            padding: 40px;
            display: flex;
            flex-direction: column;
            border: 2px solid #f1f5f9;
        }
        
        .card-category {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 20px;
            border: 2px solid;
        }
        
        .card-category.digital { background: rgba(59, 130, 246, 0.1); color: #1d4ed8; border-color: #bfdbfe; }
        .card-category.boundaries { background: rgba(168, 85, 247, 0.1); color: #7e22ce; border-color: #e9d5ff; }
        .card-category.peer_pressure { background: rgba(249, 115, 22, 0.1); color: #c2410c; border-color: #fed7aa; }
        .card-category.respect { background: rgba(34, 197, 94, 0.1); color: #15803d; border-color: #bbf7d0; }
        .card-category.bullying { background: rgba(239, 68, 68, 0.1); color: #b91c1c; border-color: #fecaca; }
        .card-category.self_worth { background: rgba(236, 72, 153, 0.1); color: #be185d; border-color: #fbcfe8; }
        
        .card-situation {
            flex: 1;
        }
        
        .card-situation h3 {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #64748b;
            margin-bottom: 15px;
            font-weight: 700;
        }
        
        .card-situation-text {
            font-size: 20px;
            line-height: 1.6;
            color: #2d2520;
            font-weight: 600;
            margin-bottom: 30px;
        }
        
        .card-questions {
            background: rgba(241, 245, 249, 0.5);
            padding: 24px;
            border-radius: 12px;
            margin-bottom: 20px;
        }
        
        .card-questions h3 {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #2d2520;
            margin-bottom: 15px;
            font-weight: 700;
        }
        
        .question-item {
            display: flex;
            gap: 12px;
            margin-bottom: 15px;
        }
        
        .question-item:last-child {
            margin-bottom: 0;
        }
        
        .question-number {
            width: 28px;
            height: 28px;
            background: #f87171;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
            flex-shrink: 0;
        }
        
        .question-text {
            font-size: 14px;
            line-height: 1.6;
            color: #2d2520;
            padding-top: 3px;
        }
        
        .flip-button {
            background: none;
            border: none;
            color: #64748b;
            font-size: 14px;
            cursor: pointer;
            padding: 10px;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 0 auto;
        }
        
        .flip-button:hover {
            color: #2d2520;
        }
        
        /* Action Buttons */
        .action-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 40px;
        }
        
        .action-buttons .btn {
            min-width: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        /* History */
        .history {
            margin-top: 60px;
        }
        
        .history h3 {
            text-align: center;
            font-size: 24px;
            margin-bottom: 30px;
            color: #2d2520;
        }
        
        .history-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
        }
        
        .history-card {
            aspect-ratio: 3/4;
            background: white;
            border-radius: 12px;
            padding: 15px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
        }
        
        .history-card:hover {
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }
        
        .history-card .card-category {
            font-size: 10px;
            padding: 4px 8px;
            margin-bottom: 10px;
        }
        
        .history-card p {
            font-size: 11px;
            color: #64748b;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 4;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .hidden {
            display: none;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .welcome-screen h2 {
                font-size: 32px;
            }
            
            .card-back {
                padding: 24px;
            }
            
            .card-situation-text {
                font-size: 16px;
            }
            
            .action-buttons .btn {
                min-width: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">‚ù§Ô∏è</div>
                <div class="logo-text">
                    <h1>Jeu EVARS</h1>
                    <p>Respect & Estime de Soi</p>
                </div>
            </div>
            <div class="badge">‚ú® Formation EVARS</div>
        </div>
    </header>

    <div class="container">
        <!-- Welcome Screen -->
        <div id="welcomeScreen" class="welcome-screen">
            <div class="heart-icon">‚ù§Ô∏è</div>
            <h2>Bienvenue au Jeu EVARS</h2>
            <p>Un jeu √©ducatif pour r√©fl√©chir ensemble sur le respect et l'estime de soi. Chaque carte pr√©sente une situation qui invite √† la discussion et √† la r√©flexion en groupe.</p>
            
            <div class="player-selection">
                <label>üë• Nombre de joueurs par groupe</label>
                <div class="player-buttons">
                    <button class="btn" onclick="selectPlayers(3)">3 joueurs</button>
                    <button class="btn active" onclick="selectPlayers(4)">4 joueurs</button>
                    <button class="btn" onclick="selectPlayers(5)">5 joueurs</button>
                </div>
                <button class="btn btn-primary" onclick="startGame()">Commencer le jeu</button>
            </div>
            
            <div class="categories">
                <div class="category-badge">S√©curit√© Num√©rique</div>
                <div class="category-badge">Limites Personnelles</div>
                <div class="category-badge">Pression des Pairs</div>
                <div class="category-badge">Respect d'Autrui</div>
                <div class="category-badge">Harc√®lement</div>
                <div class="category-badge">Estime de Soi</div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="hidden">
            <!-- Stats Panel -->
            <div class="stats-panel">
                <div class="stat-card">
                    <div class="stat-icon players">üë•</div>
                    <div class="stat-content">
                        <h3>Joueurs</h3>
                        <div class="number" id="playersCount">4</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon cards">üìö</div>
                    <div class="stat-content">
                        <h3>Cartes restantes</h3>
                        <div class="number" id="cardsRemaining">50</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon progress">‚úì</div>
                    <div class="stat-content">
                        <h3>Progression</h3>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div class="number" id="cardsDrawn">0</div>
                            <div style="flex: 1;">
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progressBar" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card Area -->
            <div class="card-container">
                <div class="card-wrapper">
                    <div class="card" id="card">
                        <!-- Front -->
                        <div class="card-face card-front">
                            <div class="card-front-icon">üí¨</div>
                            <h2>EVARS</h2>
                            <p>Carte Situation</p>
                        </div>
                        
                        <!-- Back -->
                        <div class="card-face card-back">
                            <div>
                                <span class="card-category" id="cardCategory">Cat√©gorie</span>
                            </div>
                            <div class="card-situation">
                                <h3>SITUATION</h3>
                                <div class="card-situation-text" id="cardSituation"></div>
                                <div class="card-questions">
                                    <h3>üí¨ QUESTIONS POUR LA R√âFLEXION</h3>
                                    <div id="cardQuestions"></div>
                                </div>
                            </div>
                            <button class="flip-button" onclick="flipCard()">
                                ‚Üª Retourner la carte
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="btn btn-primary" id="drawBtn" onclick="drawCard()">Tirer une carte</button>
                    <button class="btn btn-outline" onclick="shuffleDeck()">üîÄ M√©langer</button>
                    <button class="btn btn-secondary" onclick="resetGame()">‚Üª Recommencer</button>
                </div>
            </div>

            <!-- History -->
            <div class="history" id="historySection" style="display: none;">
                <h3>Cartes d√©j√† tir√©es</h3>
                <div class="history-grid" id="historyGrid"></div>
            </div>
        </div>
    </div>

    <script>
        // Donn√©es des cartes
        const cardCategories = {
            digital: "S√©curit√© Num√©rique",
            boundaries: "Limites Personnelles",
            peer_pressure: "Pression des Pairs",
            respect: "Respect d'Autrui",
            bullying: "Harc√®lement",
            self_worth: "Estime de Soi"
        };

        const situationCards = [
            {id: 1, category: "digital", situation: "Un(e) camarade te demande ton mot de passe pour 'v√©rifier quelque chose' sur ton compte.", questions: ["Comment te sens-tu face √† cette demande ?", "Pourquoi est-ce risqu√© de partager ton mot de passe ?", "Que peux-tu r√©pondre poliment mais fermement ?"]},
            {id: 2, category: "digital", situation: "Quelqu'un partage une photo embarrassante de toi sur les r√©seaux sociaux sans ta permission.", questions: ["Quelle √©motion ressens-tu ?", "Quel est ton droit dans cette situation ?", "Quelles actions concr√®tes peux-tu prendre ?"]},
            {id: 3, category: "digital", situation: "Un inconnu t'envoie un message priv√© en te demandant des informations personnelles.", questions: ["Pourquoi cette situation peut-elle √™tre dangereuse ?", "Comment prot√©ger ta vie priv√©e en ligne ?", "√Ä qui peux-tu en parler si tu te sens mal √† l'aise ?"]},
            {id: 4, category: "digital", situation: "Des personnes cr√©ent un groupe de discussion pour se moquer d'un(e) √©l√®ve de ta classe.", questions: ["Comment cette personne peut-elle se sentir ?", "Quel est ton r√¥le si tu d√©couvres ce groupe ?", "Comment peux-tu aider sans devenir une cible ?"]},
            {id: 5, category: "digital", situation: "Tu re√ßois un message qui te met mal √† l'aise avec des propos d√©plac√©s.", questions: ["Dois-tu r√©pondre √† ce message ?", "Comment fixer tes limites num√©riques ?", "Quelle importance a ton bien-√™tre en ligne ?"]},
            {id: 6, category: "digital", situation: "Tes amis veulent que tu publies une vid√©o embarrassante pour 'devenir viral'.", questions: ["Qu'est-ce qui est plus important : les vues ou ta dignit√© ?", "Quelles peuvent √™tre les cons√©quences √† long terme ?", "Comment rester fid√®le √† tes valeurs malgr√© la pression ?"]},
            {id: 7, category: "digital", situation: "Quelqu'un utilise une fausse identit√© en ligne pour se faire passer pour toi.", questions: ["Comment cette usurpation d'identit√© affecte-t-elle ton image ?", "Quelles d√©marches peux-tu entreprendre ?", "En quoi cela touche-t-il ton estime de toi ?"]},
            {id: 8, category: "digital", situation: "On te demande de transf√©rer un message douteux √† tous tes contacts.", questions: ["Pourquoi devrais-tu v√©rifier avant de partager ?", "Comment √©viter de propager de fausses informations ?", "Quel est ton niveau de responsabilit√© num√©rique ?"]},
            {id: 9, category: "digital", situation: "Tu d√©couvres qu'un ami partage tes conversations priv√©es avec d'autres personnes.", questions: ["Comment cette trahison affecte-t-elle ta confiance ?", "Que peux-tu faire pour prot√©ger ta vie priv√©e √† l'avenir ?", "Comment aborder le sujet avec ton ami ?"]},
            {id: 10, category: "digital", situation: "Des personnes commentent n√©gativement sur toutes tes publications.", questions: ["Comment g√©rer ces commentaires sans affecter ton estime de toi ?", "Quand faut-il bloquer ou signaler quelqu'un ?", "Comment ne pas laisser l'opinion des autres te d√©finir ?"]},
            {id: 11, category: "boundaries", situation: "Un(e) ami(e) te demande constamment de lui pr√™ter de l'argent sans jamais te rembourser.", questions: ["Comment exprimer tes limites sans culpabiliser ?", "Pourquoi est-il important de dire non parfois ?", "Comment pr√©server ton amiti√© tout en te respectant ?"]},
            {id: 12, category: "boundaries", situation: "Quelqu'un touche tes affaires personnelles sans te demander la permission.", questions: ["Pourquoi le respect de l'espace personnel est-il important ?", "Comment communiquer ton besoin de limites ?", "Que faire si la personne ne respecte pas ta demande ?"]},
            {id: 13, category: "boundaries", situation: "Tes amis insistent pour que tu leur racontes quelque chose de tr√®s personnel.", questions: ["As-tu l'obligation de tout partager ?", "Comment prot√©ger ton intimit√© √©motionnelle ?", "Pourquoi garder certaines choses priv√©es n'est pas √™tre distant ?"]},
            {id: 14, category: "boundaries", situation: "Un adulte te demande de garder un secret qui te met mal √† l'aise.", questions: ["Quand est-ce qu'un secret ne doit pas √™tre gard√© ?", "√Ä qui peux-tu en parler en toute confiance ?", "Pourquoi ta s√©curit√© est plus importante qu'une promesse ?"]},
            {id: 15, category: "boundaries", situation: "Un(e) camarade te demande de mentir pour le/la couvrir.", questions: ["Comment ce mensonge pourrait-il t'affecter ?", "Quelle est la diff√©rence entre aider et √™tre complice ?", "Comment rester honn√™te tout en √©tant solidaire ?"]},
            {id: 16, category: "boundaries", situation: "Quelqu'un se moque de toi quand tu dis 'non' √† une activit√©.", questions: ["Pourquoi as-tu le droit de refuser ?", "Comment le jugement des autres ne d√©finit pas ta valeur ?", "Quelle force faut-il pour rester fid√®le √† soi-m√™me ?"]},
            {id: 17, category: "boundaries", situation: "On te presse de prendre une d√©cision rapidement sans te laisser r√©fl√©chir.", questions: ["Pourquoi as-tu besoin de temps pour d√©cider ?", "Comment la pr√©cipitation peut-elle mener √† de mauvais choix ?", "Comment affirmer ton besoin de r√©flexion ?"]},
            {id: 18, category: "boundaries", situation: "Un membre de ta famille lit tes messages priv√©s sans permission.", questions: ["Comment cette intrusion affecte-t-elle ta confiance ?", "Comment exprimer ton besoin d'intimit√© respectueusement ?", "O√π se situe la fronti√®re entre s√©curit√© et vie priv√©e ?"]},
            {id: 19, category: "boundaries", situation: "Des personnes te critiquent pour tes choix vestimentaires.", questions: ["Qui a le droit de d√©cider comment tu t'habilles ?", "Comment rester fid√®le √† ton style malgr√© les opinions ?", "En quoi ton apparence ne d√©finit pas qui tu es ?"]},
            {id: 20, category: "boundaries", situation: "Quelqu'un partage tes secrets avec d'autres sans ta permission.", questions: ["Comment cette trahison affecte-t-elle ta confiance ?", "Quelles limites dois-tu fixer avec cette personne ?", "Comment reconstruire ta confiance apr√®s une trahison ?"]},
            {id: 21, category: "peer_pressure", situation: "Tes amis te poussent √† essayer quelque chose qui va contre tes valeurs.", questions: ["Comment rester fid√®le √† toi-m√™me face √† la pression du groupe ?", "Quelles cons√©quences pourraient survenir si tu c√®des ?", "Comment dire non tout en gardant tes amiti√©s ?"]},
            {id: 22, category: "peer_pressure", situation: "Tout le monde se moque d'une personne et on attend que tu participes.", questions: ["Quel courage faut-il pour ne pas suivre le groupe ?", "Comment ton action (ou inaction) d√©finit qui tu es ?", "Comment d√©fendre quelqu'un sans devenir une cible ?"]},
            {id: 23, category: "peer_pressure", situation: "Tes amis te disent que tu es 'trop s√©rieux' parce que tu veux r√©ussir √† l'√©cole.", questions: ["Pourquoi tes objectifs sont-ils importants pour toi ?", "Comment g√©rer ceux qui minimisent tes ambitions ?", "En quoi √™tre diff√©rent du groupe peut √™tre une force ?"]},
            {id: 24, category: "peer_pressure", situation: "On te propose de tricher lors d'un examen pour 'aider le groupe'.", questions: ["Quelles valeurs entrent en conflit dans cette situation ?", "Comment la tricherie affecte-t-elle ton int√©grit√© ?", "Que risques-tu vraiment en trichant ?"]},
            {id: 25, category: "peer_pressure", situation: "Tes amis veulent que tu te moques d'un enseignant avec eux.", questions: ["Pourquoi le respect est-il important m√™me envers les adultes ?", "Comment cette moquerie te d√©finit-elle ?", "Quelle alternative peux-tu proposer au groupe ?"]},
            {id: 26, category: "peer_pressure", situation: "On te dit que tu dois 'prouver' ta loyaut√© en faisant quelque chose de risqu√©.", questions: ["La vraie amiti√© n√©cessite-t-elle des preuves ?", "Comment reconna√Ætre une manipulation ?", "Quelle est la diff√©rence entre respect et soumission ?"]},
            {id: 27, category: "peer_pressure", situation: "Tes amis excluent quelqu'un du groupe et tu dois choisir un camp.", questions: ["Comment g√©rer un conflit sans blesser personne ?", "Pourquoi l'exclusion est-elle une forme de violence ?", "Comment √™tre un m√©diateur plut√¥t qu'un partisan ?"]},
            {id: 28, category: "peer_pressure", situation: "On te demande de filmer une bagarre au lieu d'intervenir ou chercher de l'aide.", questions: ["Quelle responsabilit√© as-tu en tant que t√©moin ?", "Comment les r√©seaux sociaux changent-ils notre r√©action aux conflits ?", "Quel courage faut-il pour faire la bonne chose ?"]},
            {id: 29, category: "peer_pressure", situation: "Tes amis rient d'une blague raciste/sexiste et attendent ta r√©action.", questions: ["Pourquoi le silence peut-il √™tre vu comme une approbation ?", "Comment exprimer ton d√©saccord avec respect ?", "En quoi d√©fendre tes valeurs renforce ton estime de toi ?"]},
            {id: 30, category: "peer_pressure", situation: "Tout le monde ach√®te des v√™tements de marque co√ªteux et tu te sens exclu(e).", questions: ["Pourquoi les possessions mat√©rielles ne d√©finissent pas ta valeur ?", "Comment g√©rer le sentiment d'exclusion ?", "Quelle est la vraie base d'une amiti√© ?"]},
            {id: 31, category: "respect", situation: "Tu entends des rumeurs m√©chantes sur quelqu'un que tu ne connais pas bien.", questions: ["Devrais-tu croire et r√©p√©ter ces rumeurs ?", "Comment les rumeurs peuvent-elles d√©truire quelqu'un ?", "Quel r√¥le peux-tu jouer pour arr√™ter les ragots ?"]},
            {id: 32, category: "respect", situation: "Un(e) nouvel(le) √©l√®ve arrive dans ta classe et semble diff√©rent(e).", questions: ["Comment aimerais-tu √™tre accueilli(e) si tu √©tais √† sa place ?", "Pourquoi la diff√©rence devrait-elle √™tre c√©l√©br√©e ?", "Quelle premi√®re approche peux-tu faire ?"]},
            {id: 33, category: "respect", situation: "Quelqu'un fait une erreur embarrassante en public.", questions: ["Comment r√©agir avec empathie plut√¥t que moquerie ?", "Comment voudrais-tu √™tre trait√©(e) si c'√©tait toi ?", "En quoi la bienveillance renforce l'estime de soi des deux parties ?"]},
            {id: 34, category: "respect", situation: "Un(e) camarade a des difficult√©s d'apprentissage et certains s'en moquent.", questions: ["Comment l'empathie peut-elle changer cette situation ?", "Pourquoi tout le monde apprend diff√©remment ?", "Comment peux-tu offrir ton soutien ?"]},
            {id: 35, category: "respect", situation: "Quelqu'un refuse de participer √† une activit√© pour des raisons religieuses ou culturelles.", questions: ["Pourquoi le respect des croyances d'autrui est-il fondamental ?", "Comment la diversit√© enrichit-elle notre groupe ?", "Quelle attitude adopter face aux diff√©rences ?"]},
            {id: 36, category: "respect", situation: "Un adulte te parle avec respect mais tu es tent√©(e) de r√©pondre avec insolence.", questions: ["Comment le respect mutuel fonctionne-t-il ?", "Pourquoi ta mani√®re de communiquer refl√®te ton estime de toi ?", "Quelle impression veux-tu laisser ?"]},
            {id: 37, category: "respect", situation: "Tu vois quelqu'un assis(e) seul(e) √† la cantine tous les jours.", questions: ["Comment cette personne peut-elle se sentir ?", "Quel petit geste pourrait faire une grande diff√©rence ?", "Pourquoi l'inclusion est-elle une responsabilit√© collective ?"]},
            {id: 38, category: "respect", situation: "Quelqu'un partage une opinion tr√®s diff√©rente de la tienne.", questions: ["Comment √©couter vraiment sans juger ?", "Pourquoi le d√©saccord peut-il √™tre enrichissant ?", "Comment d√©battre avec respect ?"]},
            {id: 39, category: "respect", situation: "Une personne plus jeune que toi te demande de l'aide.", questions: ["Comment ton attitude peut inspirer cette personne ?", "Pourquoi aider les autres renforce ton estime de toi ?", "Quel mod√®le veux-tu √™tre ?"]},
            {id: 40, category: "respect", situation: "Tu remarques que quelqu'un est toujours exclu(e) des conversations.", questions: ["Quel est ton pouvoir pour changer cette situation ?", "Comment l'inclusion active fonctionne-t-elle ?", "Pourquoi chaque personne m√©rite d'√™tre entendue ?"]},
            {id: 41, category: "bullying", situation: "Tu es t√©moin d'un harc√®lement r√©p√©t√© envers un(e) camarade.", questions: ["Quelle est ta responsabilit√© en tant que t√©moin ?", "Comment intervenir en s√©curit√© ?", "√Ä qui dois-tu en parler si tu as peur ?"]},
            {id: 42, category: "bullying", situation: "Quelqu'un te harc√®le en ligne avec des messages r√©p√©t√©s et m√©chants.", questions: ["Quelles preuves dois-tu conserver ?", "Comment prot√©ger ta sant√© mentale ?", "Vers qui te tourner pour obtenir de l'aide ?"]},
            {id: 43, category: "bullying", situation: "Un groupe exclut syst√©matiquement une personne de toutes les activit√©s.", questions: ["Pourquoi l'exclusion est une forme de harc√®lement ?", "Comment peux-tu briser ce cycle ?", "Quel impact cela a-t-il sur la victime ?"]},
            {id: 44, category: "bullying", situation: "Quelqu'un t'intimide physiquement ou te menace.", questions: ["Pourquoi tu ne dois jamais garder cela pour toi ?", "Comment ta s√©curit√© est la priorit√© absolue ?", "Quels adultes de confiance peux-tu alerter imm√©diatement ?"]},
            {id: 45, category: "bullying", situation: "On te dit que rapporter du harc√®lement, c'est √™tre un 'rapporteur'.", questions: ["Quelle est la diff√©rence entre d√©noncer et rapporter ?", "Pourquoi prot√©ger quelqu'un est courageux ?", "Comment les t√©moins peuvent-ils mettre fin au harc√®lement ?"]},
            {id: 46, category: "self_worth", situation: "Tu compares constamment ta vie √† ce que tu vois sur les r√©seaux sociaux.", questions: ["Pourquoi les r√©seaux sociaux ne montrent qu'une partie de la r√©alit√© ?", "Comment cultiver ton estime de toi sans validation externe ?", "Quelles sont tes qualit√©s uniques qui te d√©finissent ?"]},
            {id: 47, category: "self_worth", situation: "Tu as √©chou√© √† quelque chose d'important pour toi.", questions: ["Comment l'√©chec peut-il √™tre une opportunit√© d'apprentissage ?", "Pourquoi ta valeur ne d√©pend pas de tes performances ?", "Comment te parler avec bienveillance dans ces moments ?"]},
            {id: 48, category: "self_worth", situation: "Quelqu'un critique ton apparence physique.", questions: ["Pourquoi l'opinion des autres ne d√©finit pas qui tu es ?", "Comment cultiver l'acceptation de ton corps ?", "Quelles qualit√©s int√©rieures sont plus importantes que l'apparence ?"]},
            {id: 49, category: "self_worth", situation: "Tu te sens invisible et penses que personne ne se soucie de toi.", questions: ["Comment demander de l'aide quand tu te sens seul(e) ?", "Quelles petites actions quotidiennes renforcent ton estime de toi ?", "√Ä qui peux-tu parler de ces sentiments ?"]},
            {id: 50, category: "self_worth", situation: "On te dit que tu n'es 'pas assez bien' pour quelque chose.", questions: ["Comment les mots des autres affectent-ils ton dialogue int√©rieur ?", "Qui a vraiment le pouvoir de d√©terminer ta valeur ?", "Comment transformer la critique en motivation ?"]}
        ];

        // Variables globales
        let deck = [];
        let drawnCards = [];
        let currentCard = null;
        let players = 4;
        let isFlipped = false;

        // Initialisation
        shuffleDeck();

        // S√©lection du nombre de joueurs
        function selectPlayers(num) {
            players = num;
            document.querySelectorAll('.player-buttons .btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // D√©marrer le jeu
        function startGame() {
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            document.getElementById('playersCount').textContent = players;
            drawCard();
        }

        // M√©langer le paquet
        function shuffleDeck() {
            deck = [...situationCards].sort(() => Math.random() - 0.5);
            drawnCards = [];
            currentCard = null;
            updateStats();
            document.getElementById('historySection').style.display = 'none';
        }

        // Tirer une carte
        function drawCard() {
            if (deck.length === 0) return;
            
            currentCard = deck[0];
            deck = deck.slice(1);
            drawnCards.push(currentCard);
            
            displayCard(currentCard);
            updateStats();
            updateHistory();
            
            // Retourner la carte automatiquement
            isFlipped = false;
            document.getElementById('card').classList.remove('flipped');
            setTimeout(() => {
                flipCard();
            }, 300);
        }

        // Afficher une carte
        function displayCard(card) {
            document.getElementById('cardCategory').textContent = cardCategories[card.category];
            document.getElementById('cardCategory').className = `card-category ${card.category}`;
            document.getElementById('cardSituation').textContent = card.situation;
            
            const questionsHtml = card.questions.map((q, i) => `
                <div class="question-item">
                    <div class="question-number">${i + 1}</div>
                    <div class="question-text">${q}</div>
                </div>
            `).join('');
            document.getElementById('cardQuestions').innerHTML = questionsHtml;
        }

        // Retourner la carte
        function flipCard() {
            isFlipped = !isFlipped;
            const card = document.getElementById('card');
            if (isFlipped) {
                card.classList.add('flipped');
            } else {
                card.classList.remove('flipped');
            }
        }

        // Mettre √† jour les statistiques
        function updateStats() {
            document.getElementById('cardsRemaining').textContent = deck.length;
            document.getElementById('cardsDrawn').textContent = drawnCards.length;
            const progress = (drawnCards.length / situationCards.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            if (deck.length === 0) {
                document.getElementById('drawBtn').textContent = 'Paquet vide';
                document.getElementById('drawBtn').disabled = true;
            } else {
                document.getElementById('drawBtn').textContent = 'Tirer une carte';
                document.getElementById('drawBtn').disabled = false;
            }
        }

        // Mettre √† jour l'historique
        function updateHistory() {
            if (drawnCards.length === 0) {
                document.getElementById('historySection').style.display = 'none';
                return;
            }
            
            document.getElementById('historySection').style.display = 'block';
            const recentCards = drawnCards.slice(-10).reverse();
            const historyHtml = recentCards.map(card => `
                <div class="history-card">
                    <span class="card-category ${card.category}">${cardCategories[card.category]}</span>
                    <p>${card.situation}</p>
                </div>
            `).join('');
            document.getElementById('historyGrid').innerHTML = historyHtml;
        }

        // Recommencer le jeu
        function resetGame() {
            shuffleDeck();
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('welcomeScreen').classList.remove('hidden');
        }
    </script>
</body>
</html>
